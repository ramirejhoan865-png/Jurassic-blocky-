-- [[ 1. PlayerStatsHandler (Script de Servidor) ]]

local Players = game:GetService("Players")

local function onPlayerAdded(player)
    -- Crear el folder para guardar las estadísticas del jugador
    local playerStats = Instance.new("Folder")
    playerStats.Name = "PlayerStats"
    playerStats.Parent = player 
    
    -- Crear el valor IntValue para el conteo de ámbares
    local amberCount = Instance.new("IntValue")
    amberCount.Name = "AmberCount" -- ¡IMPORTANTE! El script del ámbar busca ESTE NOMBRE.
    amberCount.Value = 0 
    amberCount.Parent = playerStats
    
    print("Estadísticas de " .. player.Name .. " creadas. Ámbares iniciales: " .. amberCount.Value)
end

-- Conectar la función al evento de cuando un jugador se une al juego
Players.PlayerAdded:Connect(onPlayerAdded)
